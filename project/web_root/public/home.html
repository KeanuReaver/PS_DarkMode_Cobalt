<!DOCTYPE html>
<html>
	<head>
		<title>
			~[if.samlsp.enabled]
				~[if#1.samlsp.login.student]
					~[if#2.samlsp.login.guardian]
						~[text:psx.html.public.home.parent_and_student_sign_in]
					[else#2]
						~[text:psx.html.public.home.parent_sign_in]
					[/if#2]
				[else#1]
					~[if#3.samlsp.login.guardian]
						~[text:psx.html.public.home.student_sign_in]
					[else#3]
						~[if#4.sp.enabled.guardian=happy]
							~[text:psx.html.public.home.powerschool_id_creation]
						[else#4]
							~[if#5.sp.enabled.student=happy]
								~[text:psx.html.public.home.powerschool_id_creation]
							[else#5]
								~[text:psx.html.public.home.parent_and_student_sign_in]
							[/if#5]
						[/if#4]
					[/if#3]
				[/if#1]
			[else]
				~[text:psx.html.public.home.parent_and_student_sign_in]
			[/if.samlsp.enabled]
		</title>
		<meta name="robots" content="noindex" />
        <!-- Meta tag to show Smart App banner for iOS devices -->
        <meta name="apple-itunes-app" content="app-id=973741088"/>
		<link href="/images/css/screen.css" rel="stylesheet" media="screen" />
        <link href="/images/css/print.css" rel="stylesheet" media="print" />
		<link href="/images/css/customization.css" rel="stylesheet" type="text/css" media="screen" />
		<meta name="viewport" content="width=device-width" />

        <link rel="apple-touch-icon" href="/apple-touch-icon.png"/>
        <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192" />
        <link rel="icon" type="image/png" href="/android-chrome-512x512.png" sizes="512x512" />
		<link rel="icon" type="image/png" href="/favicon-196x196.png" sizes="196x196" />
		<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
		<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32" />
		<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16" />
		<link rel="icon" type="image/png" href="/favicon-128.png" sizes="128x128" />
		<meta name="application-name" content="PowerSchool"/>
		<meta name="msapplication-TileColor" content="#FFFFFF" />
		<meta name="msapplication-TileImage" content="/mstile-144x144.png" />
		<meta name="msapplication-square70x70logo" content="/mstile-70x70.png" />
		<meta name="msapplication-square150x150logo" content="/mstile-150x150.png" />
		<meta name="msapplication-wide310x150logo" content="/mstile-310x150.png" />
		<meta name="msapplication-square310x310logo" content="/mstile-310x310.png" />
		<link rel="shortcut icon" href="/favicon.ico" >
        ~[browser_metrics_header]
	</head>
	<body class="pslogin" id="pslogin">
		<div id="container">
            <div id="branding-district"></div>
			<div id="content">
                <div id="branding-powerschool"></div>
				<h1 id="normalHeader" class="hide">
					~[if.samlsp.enabled]
						~[if#1.samlsp.login.student]
							~[if#2.samlsp.login.guardian]
								~[text:psx.html.public.home.parent_and_student_sign_in]
							[else#2]
								~[text:psx.html.public.home.parent_sign_in]
							[/if#2]
						[else#1]
							~[if#5.samlsp.login.guardian]
								~[text:psx.html.public.home.student_sign_in]
							[else#5]
								~[text:psx.html.public.home.parent_and_student_sign_in]
							[/if#5]
						[/if#1]
					[else]
						~[text:psx.html.public.home.parent_and_student_sign_in]
					[/if.samlsp.enabled]
                </h1>
				<div id="localLoginHeader" class="hide">
					<h1 class="center">
						~[text:psx.html.public.home.powerschool_id_creation]
					</h1>
					<p class="center"><strong>~[text:psx.html.public.home.step__]</strong>~[text:psx.html.public.home.enter_your_current_sign_in_information]</p>
				</div>

                <div  ~[if#pref1.pref.publicportal.disable_portal=1][else#pref1]class="tabs"[/if#pref1]>
                     ~[if#pref1.pref.publicportal.disable_portal=1]
                      [else#pref1]
							<ul id="tabs">
                                ~[if#pref2.pref.publicportal.disableParentSelfRegistration=1]
                                [else#pref2]
                                <li id="sign-in-tab"><a href="#sign-in-content">~[text:psx.html.public.multi_student_account_created.sign_in]</a></li>
                                    ~[if#emailoff.pref.emailoff=1]
                                    [else#emailoff]
										~[if#pop.pref.gvu-popserver=]
										[else#pop]
                                        	<li id="create-account-tab"><a href="#create-account-content">~[text:psx.ftl.public.create_account_login_info.create_account]</a></li>
										[/if#pop]
                                    [/if#emailoff]
                                [/if#pref2]
		                    </ul>
	                 [/if#pref1]

	                 <div id="sign-in-content">
	                    <form action="/guardian/home.html" method="post" name="LoginForm" target="_top" id="LoginForm" onsubmit="doPCASLogin(this);">
                            ~[if#gpv1.gpv.loginTarget=][else#gpv1]
                            <input type="hidden" id="loginTarget" name="loginTarget" value="~[gpv:loginTarget;;encodehtml]"/>
                            [/if#gpv1]
                            ~[if#gpv1.gpv.popup=][else#gpv1]
                            <input type="hidden" name="popup" value="~[gpv:popup;;encodehtml]"/>
                            [/if#gpv1]

                            <input type="hidden" name="dbpw" value="" />
                            <input type="hidden" name="translator_username" value="" />
                            <input type="hidden" name="translator_password" value="" />
                            <input type="hidden" name="translator_ldappassword" value="" />
                            ~[brij_publicrender:public-parentaccess-pkg;:renderLoginFormElements]
                            ~[x:ldapguardianpassword]

                            ~[brij_publicrender:public-parentaccess-pkg;:RenderNewAccountLoginInfo]

                            ~[brij_publicrender:public-parentaccess-pkg;:RenderNewAccountVerificationInfo]

                            <!--box content-->
                             ~[if#pref1.pref.publicportal.disable_portal=1]
	                 	        <div class="feedback-alert"> ~[publicPortalDisabledMessage]</div>
	                 	     [else#pref1]
                                ~[loginerror]
                                <div id="noscript" class="feedback-alert">
	                                ~[text:psx.html.public.home.to_sign_in_to_powerschool_you_must_use_a_browser_that_support]
	                            </div>
								<div id="login_fieldset" class="hide">
	                            <fieldset id="login-inputs">
                                    <legend class="screen_readers_only">~[text:psx.html.public.home.enter_your_username_and_password]</legend>
	                                ~[brij_publicrender_insert:i18n_svc:getLocaleLoginDiv]
	                                <div>
	                                    <label for="fieldAccount" >~[text:psx.html.public.home.username]</label>
	                                    <input type="text" id="fieldAccount" name="account" value="" size="39" autocomplete="off" spellcheck="false" autocorrect="off" autocapitalize="off" />
	                                </div>
	                                <div>
	                                    <label for="fieldPassword" >~[text:psx.html.public.home.password]</label>
	                                    <input type="password" id="fieldPassword" name="pw" value="" size="39" autocomplete="new-password" spellcheck="false" autocorrect="off" autocapitalize="off" />
                                    </div>
                                    <div id="translatorInput">
                                        <label for="fieldTranslator" >~[text:psx.html.public.home.translator_sign_in]</label>
                                        <input type="password" id="fieldTranslator" name="translatorpw" value="" size="39" autocomplete="new-password" spellcheck="false" autocorrect="off" autocapitalize="off" />
                                    </div>
                                    <div id="login-help" class="hide">
                                        <a href="/public/account_recovery_begin.html">~[text:psx.html.public.home.forgot_username_or_password]</a>
                                    </div>
									<div class="button-row hide" id="btn-enter-sign-in-div">
										<button type="submit" id="btn-enter-sign-in" title="~[text:psx.html.public.home.sign_in_to_powerschool_parent_access]" value="Enter" border="0" >
											~[text:psx.html.public.home.sign_in]
										</button>
									</div>
									<div class="button-row hide" id="btn-enter-next-div">
										<button type="submit" class="full-width" id="btn-enter-next" title="~[text:psx.html.public.home.sign_in_to_powerschool_parent_access]" value="Enter" border="0" >
											~[text:psx.html.public.home.next]
										</button>
									</div>
								</fieldset>
								</div>

								<div id="redirect_to_classroom" class="hide">
									<p class="center"><strong>&mdash; ~[text:psx.html.public.home._or_] &mdash; </strong></p>
									<div class="button-row">
										<button id="btn-powerschool-id" type="button" class="full-width" onClick='window.location="/guardian/home.html?_local_login=false&_userTypeHint=preserve";'>~[text:psx.html.public.home.i_have_a_powerschool_id]</button>
									</div>
								</div>

								~[if#samlspenabled.samlsp.enabled]
									~[if#guard.samlsp.login.guardian]
									<h2>~[text:psx.html.public.home.parent_sign_in]</h2>
									<div class="box-round">
										<p>~[text:psx.html.public.home.parent_sign_in.notes]</p>
										<div class="button-row">
											<a id="parentSignIn" href="~[if#mode.sp.mode=saml]/guardian/idp[else#mode]/guardian/home.html[/if#mode]?_userTypeHint=guardian" class="button">~[text:psx.html.public.home.parent_sign_in]</a>
										</div>
									</div>
									[/if#guard.samlsp.login.guardian]
									~[if#student.samlsp.login.student]
									<h2>~[text:psx.html.public.home.student_sign_in]</h2>
									<div class="box-round">
										<p>~[text:psx.html.public.home.student_sign_in.notes]</p>
										<div class="button-row">
											<a id="studentSignIn" href="~[if#mode.sp.mode=saml]/student/idp[else#mode]/guardian/home.html[/if#mode]?_userTypeHint=student" class="button">~[text:psx.html.public.home.student_sign_in]</a>
										</div>
									</div>
									[/if#student.samlsp.login.student]
								[/if#samlspenabled.samlsp.enabled]
							[/if#pref1]
                            <!-- box content-->
                        </form>
                    </div>
                    ~[if#pref1.pref.publicportal.disable_portal=1][else#pref1]
                    ~[if#pref2.pref.publicportal.disableParentSelfRegistration=1]
                    [else#pref2]
                        ~[if#emailoff.pref.emailoff=1]
                        [else#emailoff]
							~[if#pop.pref.gvu-popserver=]
							[else#pop]
								<div id="create-account-content">
									~[brij_publicrender:public-parentaccess-pkg;:RenderCreateAccountLoginInfo]
								</div>
							[/if#pop]
                        [/if#emailoff]
                    [/if#pref2]
                    [/if#pref1]
				</div>
				~[if#custMessage.pref.customportalmessage-public=][else#custMessage]
				<div id="signin-custom-message">
					~[customportalmessage]
				</div>
				[/if#custMessage]
			</div>
			<div id="footer">
				<div id="legal">
					<p>
						~[text:psx.common.copyright]
					</p>
				</div>
				<p id="pearsoncorplink">

				</p>
				<p id="powerschoolcorplink"><a href="https://www.powerschool.com/privacy/" target="_blank">~[text:psx.common.privacy_policy]</a></p>
			</div>
	
        </div>
<!-- =============================================================================== -->
<!-- URBANDALE CODE ADDED -->
<!-- =============================================================================== -->
    <!-- Dark Mode Toggle UI -->
    <span id="darkModeToggleSpan">
        Dark Mode:
        <label class="student-dark-switch">
            <input type="checkbox" id="darkModeChbx" name="darkModeChbx">
            <span id="student-dark-slider"></span>
        </label>
    </span>
    
    <!-- Dark Mode Styles -->
    <style id="darkModeCSS">

        
        .student-dark-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
            vertical-align: middle;
        }
        .student-dark-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        #student-dark-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: red;
            transition: 0.4s;
            border-radius: 24px;
            width: 50px;
            height: 20px;
        }
        
        #student-dark-slider::after {
            content: "Off";
            position: absolute;
            left: 26px;
            top: 1px;
            color: white;
            font-size: 12px;
            font-weight: bold;
            pointer-events: none;
            transition: background-color 0.4s ease;
        }
        #student-dark-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 2px;
            bottom: 2px;
            background-color: white;
            transition: 0.4s;
            border-radius: 50%;
            z-index: 100;
        }
        .student-dark-switch input:checked + #student-dark-slider {
            background-color: green;
        }
        .student-dark-switch input:checked + #student-dark-slider:before {
            transform: translateX(30px);
        }
        
        .student-dark-switch input:checked + #student-dark-slider::after {
            content: "On";
            color: black;
            left: 8px !important;
        }
        body.set-to-dark:not(.disable-dark-mode) #darkModeToggleSpan {
            color: #cbd2d9;
        }
        body.set-to-dark:not(.disable-dark-mode) #student-dark-slider {
            background-color: #444;
        }
        body.set-to-dark:not(.disable-dark-mode) .student-dark-switch input:checked + #student-dark-slider {
            background-color: #2ecc71;
        }
        body.set-to-dark:not(.disable-dark-mode) #student-dark-slider:before {
            background-color: #fff;
        }
        
        #darkModeToggleSpan {
            position: absolute;
            right: 10px;
            display: inline-block;
            vertical-align: middle;
            vertical-align: -webkit-baseline-middle;
            z-index: 10;
            color: white;
        }
    </style>
    
    <!-- Dark Mode Script -->
    <script>
        (function () {
            const darkKey = "ucsd_dark_mode";
            const checkbox = document.getElementById("darkModeChbx");
    
            function getDarkPreference() {
                const userPref = localStorage.getItem(darkKey); // "1", "0", or null
                const systemPref = window.matchMedia("(prefers-color-scheme: dark)").matches;
                return userPref === "1" || (userPref === null && systemPref);
            }
    
            function applyDarkMode() {
                const isDark = getDarkPreference();
                document.body.classList.toggle("set-to-dark", isDark);
                document.body.classList.toggle("set-to-light", !isDark);
                if (checkbox) checkbox.checked = isDark;
            }
            
            const branding = document.getElementById("branding-powerschool");
            if (branding) {
                branding.append(document.getElementById("darkModeToggleSpan"));
                // toggleSpan.style.display = "inline-block";
            }
    
            // Set initial mode on load
            applyDarkMode();
    
            // Handle user toggle
            if (checkbox) {
                checkbox.addEventListener("change", function () {
                    localStorage.setItem(darkKey, this.checked ? "1" : "0");
                    applyDarkMode();
                });
            }
    
            // Respond to system theme change only if no user preference is set
            window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", () => {
                if (localStorage.getItem(darkKey) === null) {
                    applyDarkMode();
                }
            });
        })();
    </script>
<!-- =============================================================================== -->
<!-- URBANDALE CODE ADDED -->
<!-- =============================================================================== -->
		<div id="branding-pearson">
			<div id="logo-pearson"></div>
			<div id="tagline-pearson"></div>
		</div>

		<script src="/scripts/jquery-3.6.1/jquery-3.6.1.min.js"></script>
        <script src="/scripts/jquery-ui-1.11.2.custom.min.js"></script>
		<script src="/admin/javascript/md5.js"></script>
		<script src="/scripts/signin-scripts.js"></script>
		<script>
		//Hide or display the standard login fieldset
			var hidelogin = 0;
			var isLocalLogin = false;
			~[if#samlspenabled.samlsp.enabled]
				~[if#guard.samlsp.login.guardian]
					hidelogin++;
					jQuery("#tabs").addClass("hide");
				[else#guard]
					~[if#guardenabled.sp.enabled.guardian=happy]
						isLocalLogin = true;
						jQuery("#tabs").addClass("hide");
					[/if#guardenabled]
				[/if#guard]
				~[if#student.samlsp.login.student]
					hidelogin++;
				[else#student]
					~[if#studentenabled.sp.enabled.student=happy]
						isLocalLogin = true;
						jQuery("#tabs").addClass("hide");
					[/if#studentenabled]
				[/if#student]
			[/if#samlspenabled]

			if(isLocalLogin) {
				jQuery("#localLoginHeader").removeClass("hide");
				jQuery("#btn-enter-next-div").removeClass("hide");
				jQuery("#redirect_to_classroom").removeClass("hide");
			} else {
				jQuery("#normalHeader").removeClass("hide");
				jQuery("#btn-enter-sign-in-div").removeClass("hide");
				jQuery("#login-help").removeClass("hide");
			}
			if(hideLoginForm == 0 && hidelogin<=1) {
				jQuery("#login_fieldset").removeClass("hide");
			}
			if($j('#loginTarget').length !== 0) {
				var _studentHref = $j('#studentSignIn').attr("href");
				var _parentHref = $j('#parentSignIn').attr("href");
				if ($j('#loginTarget').val().includes("public/openid")) {
					$j('#loginTarget').val($j('#loginTarget').val().replace("public/openid", "guardian/openid"));
				}
				var _loginTarget = encodeURIComponent($j('#loginTarget').val());
				$j('#studentSignIn').attr("href", _studentHref + "&loginTarget=" + _loginTarget);
				$j('#parentSignIn').attr("href", _parentHref + "&loginTarget=" + _loginTarget);
        	}
		</script>

        ~[browser_metrics_footer]
	</body>
</html>

<!--  21/07/05  BC  Updated for 20.4.4.0  -->
<!--  22/11/30  BC  Updated for 22.10.0  -->
<!-- 25.08.04 Parent Instructions Removed. Dark Mode Toggle Added. -->